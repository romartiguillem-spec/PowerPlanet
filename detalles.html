<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PowerPlanet</title>
    <link rel="stylesheet" href="css/detalles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
</head>
<html>
    <header>
        <div id="menu">
            <i class="fa-solid fa-bars"></i>
        </div>
        <figure>
            <img src="img/logo.png" alt="Logo PowerPlanet">    
        </figure>
        <form>
            <input type="search" placeholder="Buscar...">
        </form>
        <nav>
            <a href="#">Ofertas Limitadas</a>
            <a href="#">Contactanos</a>
            <a href="#">ES</a>
        </nav>
        <div id="carrito"> 
            <i class="fa-solid fa-cart-shopping"></i>
            <i class="fa-solid fa-user"></i>
        </div>
    </header>
    <main>
        <nav>
            <a href="http://127.0.0.1:5501/PowerPlanet/index.html" id="house">
                <i class="fa-regular fa-house"></i>
            </a>
            <a href="index.html">Informatica</a>
            <a href="#">
                <span>></span>
            </a>
            <a href="#">Ordenadores portatiles</a>
            <a href="#">
                <span>></span>
            </a>
            <a href="#">Ordenadores Chuwi</a>
        </nav>
            <figure id="Galeria">
            </figure>
            <figure id="Principal">
                <img id="portada" src="img porducto/Ordenador 1 im.jpg" alt="Imagen Principal">
            </figure>
            <section id="DetallesProducto">
                <h1 id="product_nombre">Chuwi CoreBook X AMD R5 7430U/16GB/512GB/W11 14"</h1>
                <p class="valoraciones">
                    <span class="star">
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                    </span>
                    
                    <span id="numero_valoracion" class="valoracion">44</span>
                    <span  id="numero_opiniones" class="opiniones">(7 opiniones)</span>
                    <span class="opina">¡Opina!</span>
                    </p>
                <div id="caracteristicas">
                    <span id="dto" class="dto">-15%</span>
                    <span id="pvo" class="pvr">49.99€</span>
                </div>
                <span>Precios con IVA incluido</span>
                <div id="Transporte">
                    <span>
                        <i class="fa-solid fa-van-shuttle">Transporte Gratissss</i>
                        <h3>Disponibilidad: En Stock</h3>
                        <h3>Garantia: 3 añazos</h3>
                    </span>
                </div>
                <h2>¡ Compar ahora !</h2>
            </section>
        </div>
    </main>
</html>
<script>
    // lo del profesor
    // 1º opteneos los parametros de la URL
    const urlParmans = new URLSearchParams(window.location.search)
    // 2º optener el parametro id
    const idProd = parseInt(urlParmans.get('id'))
    //comprobar que el id llega al dietalle.html a traves de la url
    console.log ("--->", idProd)
    
    const producto = fetch('./data/productos.json')
    .then(response => response.json())
    .then (productos => {
        //buscar producto en array productos 
        const producto = productos.find(p => p.id === idProd)
        //console.log("-1->",producto)
        //console.log("-2->", producto.nombre, producto.precio)
        //mirar
        //console.log(producto);
        //console.log(producto.no)
        document.getElementById('product_nombre').textContent = producto.nombre;
        document.getElementById('numero_valoracion').textContent = producto.valoracion;
        document.getElementById('numero_opiniones').textContent = `( ${producto.opiniones} Opiniones )`;
        document.getElementById('dto').textContent = `- ${producto.descuento}%`;
        document.getElementById('portada').setAttribute('src',producto.imagen)
        document.getElementById('pvo').textContent= `${producto.precio} €`;
    })
</script>