<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PowerPlanet</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
</head>
<body>
    <header>
        <div id="menu">
            <i class="fa-solid fa-bars"></i>
        </div>
        <figure>
            <img src="img/logo.png" alt="Logo PowerPlanet">    
        </figure>
        <form>
            <input type="search" placeholder="Buscar...">
        </form>
        <nav>
            <a href="#">Ofertas Limitadas</a>
            <a href="#">Contactanos</a>
            <a href="#">ES</a>
        </nav>
        <div id="carrito"> 
            <i class="fa-solid fa-cart-shopping"></i>
            <i class="fa-solid fa-user"></i>
        </div>
    </header> 
    <main>
        <h2>COMPRADDDD !!!!</h2>
        <section id="catalogo">
            <article>
            
                <p class="badge">Envio gratis</p>
                <figure>
                    <img src="img/productos/movil.png" alt="Producto 1" />
                </figure>
                <p class="nombre">Sansung galaxy tab S10+</p>
                <p class="features">12.4'' 12GB/512GB 5G Plata</p>
                <p class="valoraciones">
                    <span class="star">
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                    </span>
                    <span class="valoracion">44</span>
                    <span class="opiniones">(7 opiniones)</span>
                </p>
                <div>
                    <span class="dto">-15%</span>
                    <span class="precios">
                        <span class="pvr">49.99€</span>
                        <span class="pvp">34.99€</span>
                    </span>
                </div>
                <p class="stock">Stock</p>
                
            </article>
        </section>
    </main>
    <footer>
        <nav id="sociales">
            <a href="#">
                <i class="fa-brands fa-instagram"></i>
            </a>
            <a href="#">
                <i class="fa-brands fa-facebook"></i>
            </a>
            <a href="#">
                <i class="fa-brands fa-twitter"></i>
            </a>
            <a href="#">
                <i class="fa-brands fa-youtube"></i>
            </a>
        </nav>
        <div id="subscribete">
            <h2>¡SUSCRÍBETE A POWEROFERTAS!</h2>
            <input type="email" placeholder="Introduce tu email">    
        </div>
        <article>
            <h3>Condiciones de Compra</h3>
            <nav>
                <a href="#">
                    <i class="fa-solid fa-car"></i>
                    <span>¿Qué envíos hay disponibles en Powerplanetonline?</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-calendar-days"></i>
                    <span>¿Cómo puedo Pagar a plazos en Powerplanet?</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-file-lines"></i>
                    <span>Condiciones generales</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-wrench"></i>
                    <span>Devolución, Garantías y Reparación</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-lock"></i>
                    <span>Política de privacidad</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-cookie"></i>
                    <span>Política de cookies</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-tablet-screen-button"></i>
                    <span>¡Compra desde la APP! Más ventajas</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-briefcase"></i>
                    <span>Empleo</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-building-columns"></i>
                    <span>Centros educativos y administraciones públicas</span>
                </a>    

            </nav>    
        </article>
        <article>
            <h3>Distribuidores</h3>
            <nav>
                <a href="#">
                    <i class="fa-regular fa-face-flushed"></i>
                    <span>Distribuidor por mayor</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-medal"></i>
                    <span>Condiciones generales para los distribuidores</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-earth-europe"></i>
                    <span>Intracomunitarios</span>
                </a>
            </nav>    
        </article>
        <article>
            <h3>Informacion General</h3>
            <nav>
                <a href="#">
                    <i class="fa-solid fa-phone"></i>
                    <span>Contacto</span>
                </a>
                <a href="#">
                    <i class="fa-regular fa-address-card"></i>
                    <span>Quienes somos</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-shop"></i>
                    <span>Tienda fisica</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-bell"></i>
                    <span>Opiniones de PowerPlanet</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-question"></i>
                    <span>Pregutas frecuentes</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-blog"></i>
                    <span>Blog de PowerPlanet</span>
                </a>
                <a href="#">
                    <i class="fa-regular fa-face-flushed"></i>
                    <span>Power days</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-gift"></i>
                    <span>Blak friday</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-gifts"></i>
                    <span>Cyber Monsay</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-marker"></i>
                    <span>Marcas</span>
                </a>
                <a href="#">
                    <i class="fa-brands fa-affiliatetheme"></i>
                    <span>Programas afiliados</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-tag"></i>
                    <span>Promociones y descuentos</span>
                </a>
            </nav>    
        </article>
        
    </footer>
</body>
</html>
<script>
    //Manipular el HMTL(usuario) <--> DOM (navegador) 
    //fectch es un funcion JS para leer un archivo JSON o
    //hacer una peticion http a una API
    fetch('data/productos.json') //idem peticion a la api (BD)
        .then(response => response.json())
        .then(productos => {
            //codigo js
            const contenedor = document.getElementById('catalogo');
            /* 
                productos tiene todo el array de objetos json
            */
            // iterar RECORRER todos los productos del array
            // se ejecutara tantas veces como productos (obejtos) haya en el array
            // JS --> JS Moderno (EmacsScript 6)
            //el array productos se recorre con un buble forEach
            productos.forEach (producto => {
                //crear un objeto (nodo en html) <article>
                //el objeto document (JS) y sirve para que JS acceda L/W al DOM del HTML
                const tarjeta = document.createElement('article'); //crea un nodo html --> <article> </article>
                //contenedor.innerHTML = `Catalogo de Productos`;
                //con innerHTML escribo el contenido del nodo <article> creado anteriormente
                tarjeta.className = 'producto';
                tarjeta.innerHTML = `
                    <p class="badge">Envio gratis</p>
                    <figure>
                        <img src="${producto.imagen}" alt="${producto.nombre}" />
                    </figure>
                    <p class="nombre">${producto.nombre}</p>
                    <p class="features">
                        <span>${producto.caracteristicas.cpu}</span>
                        <span>${producto.caracteristicas.ram}</span> 
                        <span>${producto.caracteristicas.disco}</span> 
                    </p>
                    <p class="valoraciones">
                    <span class="star">
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                    </span>
                    
                    <span class="valoracion">${producto.valoracion}</span>
                    <span class="opiniones">(${producto.opiniones})opiniones</span>
                    </p>
                    <div>
                    <span class="dto">${producto.descuento}%</span>
                    <span class="precios">
                        <span class="pvr">${producto.precioOriginal}€</span>
                        <span class="pvp">${producto.precio}€</span>
                    </span>
                </div>
                
                `;
                contenedor.appendChild(tarjeta)
                //*****añadimos un enlace a cada producto a su detalle****//
                tarjeta.addEventListener('click', () => {
                    //El id tiene que estar en el detalle
                    window.location.href =`detalles.html?id=${producto.id}`;
                });
            })
        })
</script>